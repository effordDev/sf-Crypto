<template>
    
     <lightning-card icon-name="utility:moneybag" title="Crypto Assets By Market Cap">
          <template if:true={coins.length}>
               <div class="parentWrapper">
                    <div class="slds-table--header-fixed_container">
                         <div class="wrapper">
                              <table class="slds-table slds-table_bordered slds-table_striped slds-table--header-fixed">
                                   <thead>
                                        <tr >
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">Rank</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">Icon</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">Name</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">Symbol</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">Price</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">Market Cap</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">24Hrs</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">7Days</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">30Days</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">90Days</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">Dominance</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">Circulating</div>
                                             </th>
                                             <th scope="col">
                                                  <div class="slds-cell-fixed slds-truncate">Max Supply</div>
                                             </th>
                                        </tr>
                                   </thead>
                    
                                   <tbody>
                                        <template for:each={coins} for:item="coin">
                                             <tr key={coin.id}>
                                                  <td>
                                                       <div class="slds-truncate" key={coin.id}>
                                                            {coin.cmc_rank}
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class="slds-truncate" key={coin.id}>
                                                            <img class="icon" src={coin.urlIcon} alt={coin.name}>
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class="slds-truncate" key={coin.id}>
                                                            <a href={coin.url} target="_blank">{coin.name}</a>
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class="slds-truncate" key={coin.id}>
                                                            {coin.symbol}
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class="slds-truncate" key={coin.id}>
                                                            <lightning-formatted-number 
                                                                 value={coin.quote.USD.price}
                                                                 format-style="currency" 
                                                                 currency-code="USD"
                                                            ></lightning-formatted-number>
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class="slds-truncate" key={coin.id}>
                                                            <lightning-formatted-number 
                                                                 value={coin.quote.USD.market_cap}
                                                                 format-style="currency" 
                                                                 currency-code="USD"
                                                            ></lightning-formatted-number>
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class={coin.styles.percent_change_24h_style} key={coin.id}>
                                                            <lightning-formatted-number 
                                                                 value={coin.quote.USD.percent_change_24h}
                                                                 format-style="percent-fixed" 
                                                                 currency-code="USD"
                                                                 maximum-fraction-digits="1"
                                                            ></lightning-formatted-number>
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class={coin.styles.percent_change_7d_style} key={coin.id}>
                                                            <lightning-formatted-number 
                                                                 value={coin.quote.USD.percent_change_7d}
                                                                 format-style="percent-fixed" 
                                                                 currency-code="USD"
                                                                 maximum-fraction-digits="1"
                                                            ></lightning-formatted-number>
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class={coin.styles.percent_change_30d_style} key={coin.id}>
                                                            <lightning-formatted-number 
                                                                 value={coin.quote.USD.percent_change_30d}
                                                                 format-style="percent-fixed" 
                                                                 currency-code="USD"
                                                                 maximum-fraction-digits="1"
                                                            ></lightning-formatted-number>
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class={coin.styles.percent_change_90d_style} key={coin.id}>
                                                            <lightning-formatted-number 
                                                                 value={coin.quote.USD.percent_change_90d}
                                                                 format-style="percent-fixed" 
                                                                 currency-code="USD"
                                                                 maximum-fraction-digits="1"
                                                            ></lightning-formatted-number>
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class="slds-truncate" key={coin.id}>
                                                            <lightning-formatted-number 
                                                                 value={coin.quote.USD.market_cap_dominance}
                                                                 format-style="percent-fixed" 
                                                                 currency-code="USD"
                                                                 maximum-fraction-digits="1"
                                                            ></lightning-formatted-number>
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class="slds-truncate" key={coin.id}>
                                                            {coin.circulating_supply}
                                                       </div>
                                                  </td>
                                                  <td>
                                                       <div class="slds-truncate" key={coin.id}>
                                                            {coin.max_supply}
                                                       </div>
                                                  </td>
                                             </tr>
                                        </template>
                                   </tbody>
                              </table>
                         </div>
                    </div>
               </div>
          </template>
     </lightning-card>
 </template>